<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Account.html">Account</a></li><li><a href="Athlete.html">Athlete</a><ul class='methods'><li data-type='method'><a href="Athlete.html#.decryptFromDatabase">decryptFromDatabase</a></li><li data-type='method'><a href="Athlete.html#addMeasurement">addMeasurement</a></li><li data-type='method'><a href="Athlete.html#addMeasurements">addMeasurements</a></li><li data-type='method'><a href="Athlete.html#check">check</a></li><li data-type='method'><a href="Athlete.html#encryptForDatabase">encryptForDatabase</a></li><li data-type='method'><a href="Athlete.html#getFullName">getFullName</a></li><li data-type='method'><a href="Athlete.html#getPlain">getPlain</a></li><li data-type='method'><a href="Athlete.html#getShortName">getShortName</a></li></ul></li><li><a href="Data.html">Data</a><ul class='methods'><li data-type='method'><a href="Data.html#findEncrypted">findEncrypted</a></li><li data-type='method'><a href="Data.html#getPlain">getPlain</a></li><li data-type='method'><a href="Data.html#push">push</a></li></ul></li><li><a href="Log.html">Log</a><ul class='methods'><li data-type='method'><a href="Log.html#.getLogObject">getLogObject</a></li><li data-type='method'><a href="Log.html#clear">clear</a></li><li data-type='method'><a href="Log.html#custom">custom</a></li><li data-type='method'><a href="Log.html#disable">disable</a></li><li data-type='method'><a href="Log.html#enable">enable</a></li><li data-type='method'><a href="Log.html#error">error</a></li><li data-type='method'><a href="Log.html#getAsString">getAsString</a></li><li data-type='method'><a href="Log.html#getAsStringWithLevel">getAsStringWithLevel</a></li><li data-type='method'><a href="Log.html#getAsStringWithMinLevel">getAsStringWithMinLevel</a></li><li data-type='method'><a href="Log.html#getHighestLevel">getHighestLevel</a></li><li data-type='method'><a href="Log.html#getHighestLevelMessage">getHighestLevelMessage</a></li><li data-type='method'><a href="Log.html#getLastMessage">getLastMessage</a></li><li data-type='method'><a href="Log.html#info">info</a></li><li data-type='method'><a href="Log.html#merge">merge</a></li><li data-type='method'><a href="Log.html#warning">warning</a></li></ul></li><li><a href="SessionAccount.html">SessionAccount</a><ul class='methods'><li data-type='method'><a href="SessionAccount.html#canViewResults">canViewResults</a></li><li data-type='method'><a href="SessionAccount.html#get">get</a></li><li data-type='method'><a href="SessionAccount.html#isAdminAccount">isAdminAccount</a></li><li data-type='method'><a href="SessionAccount.html#isGroupAccount">isGroupAccount</a></li><li data-type='method'><a href="SessionAccount.html#isLoggedIn">isLoggedIn</a></li><li data-type='method'><a href="SessionAccount.html#isStationAccount">isStationAccount</a></li><li data-type='method'><a href="SessionAccount.html#login">login</a></li><li data-type='method'><a href="SessionAccount.html#logout">logout</a></li><li data-type='method'><a href="SessionAccount.html#setProcessing">setProcessing</a></li><li data-type='method'><a href="SessionAccount.html#store">store</a></li></ul></li></ul><h3>Namespaces</h3><ul><li><a href="AccountManager.html">AccountManager</a><ul class='methods'><li data-type='method'><a href="AccountManager.html#.getAdminAccount">getAdminAccount</a></li><li data-type='method'><a href="AccountManager.html#.getGroupAccount">getGroupAccount</a></li><li data-type='method'><a href="AccountManager.html#.getOutputAccount">getOutputAccount</a></li><li data-type='method'><a href="AccountManager.html#.getStationAccount">getStationAccount</a></li><li data-type='method'><a href="AccountManager.html#.inputPermitted">inputPermitted</a></li><li data-type='method'><a href="AccountManager.html#.login">login</a></li><li data-type='method'><a href="AccountManager.html#.logout">logout</a></li><li data-type='method'><a href="AccountManager.html#.retrieveAccounts">retrieveAccounts</a></li><li data-type='method'><a href="AccountManager.html#.viewPermitted">viewPermitted</a></li></ul></li><li><a href="Athletics.html">Athletics</a><ul class='methods'><li data-type='method'><a href="Athletics.html#.calculate">calculate</a></li><li data-type='method'><a href="Athletics.html#.calculateOne">calculateOne</a></li><li data-type='method'><a href="Athletics.html#.canDoSportType">canDoSportType</a></li><li data-type='method'><a href="Athletics.html#.generateCertificate">generateCertificate</a></li><li data-type='method'><a href="Athletics.html#.getCertificateInfo">getCertificateInfo</a></li><li data-type='method'><a href="Athletics.html#.getInformation">getInformation</a></li><li data-type='method'><a href="Athletics.html#.getNameOfSportType">getNameOfSportType</a></li><li data-type='method'><a href="Athletics.html#.getSports">getSports</a></li><li data-type='method'><a href="Athletics.html#.getSportType">getSportType</a></li><li data-type='method'><a href="Athletics.html#.getValidData">getValidData</a></li><li data-type='method'><a href="Athletics.html#.validate">validate</a></li></ul></li><li><a href="Crypto.html">Crypto</a><ul class='methods'><li data-type='method'><a href="Crypto.html#.encrypt">encrypt</a></li><li data-type='method'><a href="Crypto.html#.generateAC">generateAC</a></li><li data-type='method'><a href="Crypto.html#.generateLoginToken">generateLoginToken</a></li><li data-type='method'><a href="Crypto.html#.generatePrivHash">generatePrivHash</a></li><li data-type='method'><a href="Crypto.html#.generatePubHash">generatePubHash</a></li><li data-type='method'><a href="Crypto.html#.tryDecrypt">tryDecrypt</a></li></ul></li><li><a href="Gymnastics.html">Gymnastics</a><ul class='methods'><li data-type='method'><a href="Gymnastics.html#.calculate">calculate</a></li><li data-type='method'><a href="Gymnastics.html#.canDoSportType">canDoSportType</a></li><li data-type='method'><a href="Gymnastics.html#.generateCertificate">generateCertificate</a></li><li data-type='method'><a href="Gymnastics.html#.getCertificateInfo">getCertificateInfo</a></li><li data-type='method'><a href="Gymnastics.html#.getInformation">getInformation</a></li><li data-type='method'><a href="Gymnastics.html#.getNameOfSportType">getNameOfSportType</a></li><li data-type='method'><a href="Gymnastics.html#.getSports">getSports</a></li><li data-type='method'><a href="Gymnastics.html#.getSportType">getSportType</a></li><li data-type='method'><a href="Gymnastics.html#.getValidData">getValidData</a></li><li data-type='method'><a href="Gymnastics.html#.validate">validate</a></li></ul></li><li><a href="Server.html">Server</a><ul class='methods'><li data-type='method'><a href="Server.html#.cancelAsyncRequest">cancelAsyncRequest</a></li><li data-type='method'><a href="Server.html#.getIPs">getIPs</a></li><li data-type='method'><a href="Server.html#.getLog">getLog</a></li><li data-type='method'><a href="Server.html#.setSportTypeState">setSportTypeState</a></li></ul></li><li><a href="Swimming.html">Swimming</a><ul class='methods'><li data-type='method'><a href="Swimming.html#.calculate">calculate</a></li><li data-type='method'><a href="Swimming.html#.canDoSportType">canDoSportType</a></li><li data-type='method'><a href="Swimming.html#.generateCertificate">generateCertificate</a></li><li data-type='method'><a href="Swimming.html#.getCertificateInfo">getCertificateInfo</a></li><li data-type='method'><a href="Swimming.html#.getInformation">getInformation</a></li><li data-type='method'><a href="Swimming.html#.getNameOfSportType">getNameOfSportType</a></li><li data-type='method'><a href="Swimming.html#.getSports">getSports</a></li><li data-type='method'><a href="Swimming.html#.getSportType">getSportType</a></li><li data-type='method'><a href="Swimming.html#.getValidData">getValidData</a></li><li data-type='method'><a href="Swimming.html#.validate">validate</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#canViewResults">canViewResults</a></li><li><a href="global.html#checkAdminLogin">checkAdminLogin</a></li><li><a href="global.html#checkLogin">checkLogin</a></li><li><a href="global.html#filterUndefined">filterUndefined</a></li><li><a href="global.html#genRandomAdminCode">genRandomAdminCode</a></li><li><a href="global.html#genRandomCode">genRandomCode</a></li><li><a href="global.html#genUUID">genUUID</a></li><li><a href="global.html#getAccountByPassphrase">getAccountByPassphrase</a></li><li><a href="global.html#getAcsFromAccounts">getAcsFromAccounts</a></li><li><a href="global.html#getAdminAccount">getAdminAccount</a></li><li><a href="global.html#getContestTypeByID">getContestTypeByID</a></li><li><a href="global.html#getGroupNames">getGroupNames</a></li><li><a href="global.html#getLoginObject">getLoginObject</a></li><li><a href="global.html#getLoginToken">getLoginToken</a></li><li><a href="global.html#getStationNames">getStationNames</a></li><li><a href="global.html#getStationNamesAsArray">getStationNamesAsArray</a></li><li><a href="global.html#initCollections">initCollections</a></li><li><a href="global.html#isAdminAccount">isAdminAccount</a></li><li><a href="global.html#isGroupAccount">isGroupAccount</a></li><li><a href="global.html#isStationAccount">isStationAccount</a></li><li><a href="global.html#refreshErrorState">refreshErrorState</a></li><li><a href="global.html#runAsyncServerFunction">runAsyncServerFunction</a></li><li><a href="global.html#runServerFunction">runServerFunction</a></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>RunItEasy</h1><p><img src="https://raw.githubusercontent.com/TheMegaTB/BJS/master/meteor/public/icons/Logo512.png" alt="RunItEasy Logo"></p>
<h2>API Dokumentation</h2><p>Die Dokumentation der programminternen API ist unter der folgenden Adresse verfügbar:
<a href="https://themegatb.github.io/BJS/index.html">https://themegatb.github.io/BJS/index.html</a></p>
<h1>Entwicklung</h1><h2>Aufsetzen der Projektumgebung</h2><h3>Entwicklungstools</h3><p>Es ist von größter Erforderniss, dass Sie <a href="https://www.meteor.com/install">Meteor</a> und <a href="https://git-scm.com/downloads">Git</a> installieren, bevor sie mit den nachfolgenden Schritten
fortfahren.</p>
<h3>Herunterladen</h3><pre class="prettyprint source"><code>git clone https://github.com/TheMegaTB/BJS.git
cd BJS</code></pre><h3>Abhängigkeiten installieren und Server ausführen</h3><pre class="prettyprint source"><code>## Linux, macOS
./setupProject.sh

## Windows
cd meteor
meteor reset
meteor npm install
meteor</code></pre><h2>Ordnerstruktur</h2><p>Siehe <a href="https://github.com/TheMegaTB/BJS/blob/master/ProjectStructure.md">ProjectStructure.md</a></p>
<h2>Konzepte</h2><p>RunItEasy besteht aus verschiedenen Komponenten, die sich alle in der oben beschriebenen Ordnerstruktur wiederfinden.</p>
<h3>Server</h3><p>Zunächst befinden sich alle serverseitigen Funktionen im meteor/server Ordner. Besonders zu beachten ist meteorCalls.js.
 Hier werden alle Funktionen definiert, die vom Client aufgerufen werden können. Alle Daten werden verschlüsselt übertragen.
 Deshalb gibt es zwei Wrapper: runServerFunction für normale Aufrufe und runAsync für asyncrone Aufrufe. Sie übernehmen das Entschlüsseln
 der empfangenen Daten sowie das Verschlüsseln der zu versendenen Daten. Um neue server funcions hinzuzufügen muss man sich daher
   nicht um eine sichere Verbindung kümmern.</p>
<h3>Client</h3><p>Im meteor/client Ordner befinden sich alle Daten, die nur der Client braucht. Dazu gehört das Design der Website sowie die
damit verbundenen Verarbeitung von Eingaben und die Vorbereitung der Ausgabe.</p>
<p>Der allgemeine Aufbau einer Seite ist in head.html und body.html definiert. 
Allgemeine styles sind im styles Ordner zusammengefasst</p>
<p>Alle Popups, die von verschiedenen Seiten aus geöffnet werden sollen, sind
im popups Ordner definiert.</p>
<p>Im lib Ordner sind alle notwendigen Bibliotheken gespeichert, die nicht mit npm installiert werden
konnten.</p>
<p>Der eigentliche Inhalt der Seite liegt im components Order. Hier gibt es für jeden Unterbereich (Login, Configuration, Eingabe Ausgabe) der Seite
  einen eigenen Ordner.</p>
<h3>Imports</h3><p>Einer der wichtigsten Ordner ist der imports Ordner. Hier liegt die ganze Logic, die für die Auswertung, Berechnung und Verschlüsselung zuständig ist.</p>
<p>Im api Ordner gibt es verschiedenen Module. Diese sind</p>
<h4>AccountManagement</h4><p>Ein Modul, das es einfach macht angemeldete User zu verwalten. Wird momentan nur clientseitig benutzt.
  Kann aber auch serverseitig verwendet werden.</p>
<h4>Crypto</h4><p>Hier sind alle Functionen definiert, die für die Verschlüsselung notwendig sind.</p>
<h4>Database</h4><p> Die Datenbank ist so aufgebaut, dass für jeden Wettkampf eine Datenbank erstellt wird. Jede Datenbank enthällt die collections
 &quot;accounts&quot; und &quot;athletes&quot;. Jeweils repräsentiert durch eine Datei in database/collections. Um wettkampfspezifische Collections zu erstellen gibt es die Funktion
  ContestCollection in collections/collections.js </p>
<p> Für allgemeine Daten gibt es die generic und die contests collection. Für wettkapfunabhängige Collections gibt es die Funktion Collection in collections/collections.js</p>
<p> Um mit der Datenbank zu interagieren gibt es sowohl auf dem client als auch auf dem server das globale object Meteor.COLLECTIONS.</p>
<p> Ein Client verbindet sich beim Laden der Seite automatisch mit allen wettkapfunabhängige Collections und mit der aktuellen
  wettkampfspezifische Collections. Das heißt der Client kann auf alle Informationen aus dem aktuellen Wettkampf nicht
   aber auf Informationen anderer Wettkämpfe zugreifen. Die Collections Objekte haben ein handle member, über den die
   Collection erreicht werden kann.</p>
<p> Der Server verbindet sich mit allen Collections. Es gibt aber auch für die wettkampfspezifische Collections jeweils
  nur ein Collection Objekte. Intern wird aber eine Liste mit allen handels verwaltet. Mit der member fuction switch
   kann man dann den aktuellen handle wechseln, so dass anschließend alle Datenbankzugriffe auf die neue Collection zugreifen.
   Um alle wettkampfspezifische Collections gleichzeitig zu wechseln kann Meteor.COLLECTIONS.switch verwendet werden.</p>
<h3>Logic</h3><p>im api/logic order befindet sich alles, um Athleten zu verwalten und ihre Punkte zu berechnen. Um die verschiedenen Wettbewerbstypen
abzudecken wird eine Pluginstruktur verwendet. Jede Wettkampfart ist in logic/contestTypes in Form einer Datei vorhanden.
Alle Plugins müssen in logic/contestType.js registriert werden. Daten wie Punktetabellen werden im imports/data Ordner gespeichert.</p>
<h2>Unit testing</h2><h3>Executing tests</h3><p>Um die Tests auszuführen starten sie die folgenden Programme und stellen sie sicher, dass kein anderer Server läuft.</p>
<ul>
<li>Server only (CLI):    <code>meteor test --driver-package dispatch:mocha</code></li>
<li>Both (WebUI):         <code>meteor test --driver-package practicalmeteor:mocha</code> -&gt; <code>http://localhost:3000</code></li>
</ul></article>
    </section>






</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Mon Feb 27 2017 20:44:21 GMT+0100 (CET) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>